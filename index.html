<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WHILOBUS - Catálogo</title>
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Overlay para fondo oscuro -->
  <div class="menu-overlay" id="menu-overlay"></div>

  <header>
    <!-- Botón hamburguesa -->
    <button id="menu-toggle" class="menu-toggle" aria-label="Abrir menú" aria-expanded="false">
      <span class="hamburger"></span>
    </button>

    <!-- Logo en el header -->
    <div class="header-logo-mobile">
      <img src="img/nuevo-logo.png" alt="Nuevo Logo para Móvil" />
    </div>
  </header>

  <!-- Menú de navegación -->
  <nav class="navbar" id="navbar-links" role="navigation" aria-label="Menú principal">
    <!-- Encabezado del menú: botón cerrar y logo alineados -->
    <div class="menu-header">
      <div class="menu-logo-container">
        <img src="img/nuevo-logo.png" alt="Logo del menú" class="menu-logo">
      </div>
      <button class="close-menu" id="close-menu" aria-label="Cerrar el menú lateral">✕</button>
    </div>

    <ul>
      <li><a href="carteles.html">Carteles Front & Backlight</a></li>
      <li><a href="letras-corporeas.html">Letras Corpóreas</a></li>
      <li><a href="totems.html">Tótems Publicitarios</a></li>
      <li><a href="fachadas-acm.html">Fachadas en ACM</a></li>
      <li><a href="volantes-tarjetas.html">Volantes - Tarjetas</a></li>
      <li><a href="senaleticas.html">Señaléticas</a></li>
      <li><a href="ploteados.html">Ploteados</a></li>
    </ul>
  </nav>

  <main>
    <!-- Carrusel de imágenes -->
    <section class="carousel">
      <div class="carousel-track" id="carousel-track">
        <img src="img/carrusel1.webp" alt="Imagen 1">
        <img src="img/carrusel2.webp" alt="Imagen 2">
        <img src="img/carrusel3.webp" alt="Imagen 3">
      </div>
      <div class="carousel-indicators">
        <span class="dot active"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </div>
    </section>    
  </main>

  <footer>
    <p>&copy; <span id="year"></span> WHILOBUS</p>
    <div class="social-icons">
      <a href="https://www.facebook.com" target="_blank" rel="noopener noreferrer">
        <img src="img/facebook.svg" alt="Facebook" />
      </a>
      <a href="https://www.instagram.com" target="_blank" rel="noopener noreferrer">
        <img src="img/instagram.svg" alt="Instagram" />
      </a>
      <a href="https://www.tiktok.com" target="_blank" rel="noopener noreferrer">
        <img src="img/tiktok.svg" alt="TikTok" />
      </a>
    </div>
  </footer>

  <script>
    const menuToggle = document.getElementById("menu-toggle");
    const navbarLinks = document.getElementById("navbar-links");
    const menuOverlay = document.getElementById("menu-overlay");
    const closeMenu = document.getElementById("close-menu");
    const navLinks = document.querySelectorAll('.navbar a');
    const track = document.querySelector('.carousel-track');
    const dots = document.querySelectorAll('.dot');
    let startX, currentTranslate, isDragging = false;

    // Función para abrir el menú
    function openMenu() {
      navbarLinks.classList.add("active");
      menuOverlay.classList.add("active");
      menuToggle.classList.add("active");
      menuToggle.setAttribute("aria-expanded", "true");
    }

    // Función para cerrar el menú
    function closeMenuFn() {
      navbarLinks.classList.remove("active");
      menuOverlay.classList.remove("active");
      menuToggle.classList.remove("active");
      menuToggle.setAttribute("aria-expanded", "false");
    }

    // Añadir eventos de abrir/cerrar menú
    menuToggle.addEventListener("click", openMenu);
    closeMenu.addEventListener("click", closeMenuFn);
    menuOverlay.addEventListener("click", closeMenuFn);

    // Cerrar menú al hacer clic en un enlace
    navLinks.forEach(link => {
      link.addEventListener("click", closeMenuFn);
    });

    // Año automático
    document.getElementById("year").textContent = new Date().getFullYear();

    // Hover personalizado
    navLinks.forEach(link => {
      link.addEventListener('mouseenter', () => {
        link.classList.add('hover-effect');
      });
      link.addEventListener('mouseleave', () => {
        link.classList.remove('hover-effect');
      });
    });

    // Función para actualizar la posición del carrusel
    const updateCarouselPosition = (index) => {
      const translateX = -index * 100;
      track.style.transform = `translateX(${translateX}vw)`;

      // Actualizar el punto activo
      dots.forEach(dot => dot.classList.remove('active'));
      dots[index].classList.add('active');
    };

    // Función para detectar el inicio del deslizamiento
    const startDrag = (e) => {
      isDragging = true;
      startX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
      currentTranslate = parseInt(track.style.transform.replace('translateX(', '').replace('vw)', '')) || 0;
    };

    // Función para mover el carrusel mientras se está deslizando
    const dragMove = (e) => {
      if (!isDragging) return;
      const moveX = (e.type.includes('touch') ? e.touches[0].clientX : e.clientX) - startX;
      track.style.transform = `translateX(${currentTranslate + (moveX / window.innerWidth) * 100}vw)`;
    };

    // Función para finalizar el deslizamiento
    const endDrag = () => {
      if (!isDragging) return;
      isDragging = false;

      const translateXValue = parseInt(track.style.transform.replace('translateX(', '').replace('vw)', ''));

      // Determinar el índice de la imagen más cercana
      const newIndex = Math.round(-translateXValue / 100);
      updateCarouselPosition(newIndex);
    };

    // Agregar eventos táctiles y de mouse
    track.addEventListener('mousedown', startDrag);
    track.addEventListener('touchstart', startDrag);

    window.addEventListener('mousemove', dragMove);
    window.addEventListener('touchmove', dragMove);

    window.addEventListener('mouseup', endDrag);
    window.addEventListener('touchend', endDrag);

    // Funcionalidad de los puntos
    dots.forEach(dot => {
      dot.addEventListener('click', () => {
        const index = parseInt(dot.dataset.index);
        updateCarouselPosition(index);
      });
    });

    // Inicializa el carrusel en el primer punto
    updateCarouselPosition(0);
    let currentIndex = 0;
const totalImages = track.children.length;

setInterval(() => {
  currentIndex = (currentIndex + 1) % totalImages;
  updateCarouselPosition(currentIndex);
}, 5000); // ← cambia cada 5 segundos (ajustá este valor si querés)
  </script>

</body>
</html>
